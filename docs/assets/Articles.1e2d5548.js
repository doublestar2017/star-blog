import{g as A,a,b as t,c as e,t as s,d as i,s as l,u as c}from"./index.88878458.js";import{_ as n}from"./LoadEnd.add387c1.js";import{_ as d}from"./Loading.8f51e36c.js";import{d as m,r,o,S as g,p as M,l as h,b as I,c as u,e as R,t as b,f as E,g as f,T as p,F as L,U as H,m as Q}from"./vendor.4d6ce351.js";const v=window.innerHeight||document.documentElement.clientHeight,B=s((()=>{const A=document.querySelectorAll("#list .item img");let a=0;for(let t=a;t<A.length;t++){let e=v-A[t].getBoundingClientRect().top,s=A[t];if(e>=100){"false"===s.getAttribute("data-has-lazy-src")&&(s.src=s.getAttribute("data-src"),s.setAttribute("data-has-lazy-src","true")),a=t+1}}}),1e3);var k=m({name:"Articles",components:{LoadEnd:n,LoadingCustom:d},watch:{$route:{handler(A,a){this.routeChange(A,a)},immediate:!0}},setup(s,n){const d=r({isLoadEnd:!1,isLoading:!1,articlesList:[],total:0,tag_name:decodeURI(A("tag_name")),params:{keyword:"",likes:"",state:1,tag_id:A("tag_id"),category_id:A("category_id"),pageNum:1,pageSize:10},href:"https://biaochenxuying.cn/articleDetail?article_id="}),m=async()=>{d.isLoading=!0;const A=await l.get(c.getArticleList,{params:d.params});d.isLoading=!1,d.articlesList=[...d.articlesList,...A.list],d.total=A.count,d.params.pageNum++,g((()=>{B()})),0!==A.list.length&&d.total!==d.articlesList.length||(d.isLoadEnd=!0,document.removeEventListener("scroll",(()=>{})),window.onscroll=null)};return o((()=>{m(),window.onscroll=()=>{a()+t()>e()-100&&!1===d.isLoadEnd&&!1===d.isLoading&&m()},document.addEventListener("scroll",B)})),{state:d,formatTime:A=>i(A,!0),handleSearch:m,routeChange:(a,t)=>{d.tag_name=decodeURI(A("tag_name")),d.params.tag_id=A("tag_id"),d.params.category_id=A("category_id"),d.articlesList=[],d.params.pageNum=1,m()}}}});const x=Q();M("data-v-9c777b46");const y={class:"left clearfix"},z={key:0,class:"left-title"},w={class:"articles-list",id:"list"},D={class:"content"},G={class:"title"},T={class:"abstract"},Y={class:"meta"},U={key:0,class:"time"};h();const _=x(((A,a,t,e,s,i)=>{const l=I("LoadingCustom"),c=I("LoadEnd");return u(),R("div",y,[A.state.params.tag_id?(u(),R("h3",z,b(A.state.tag_name)+" 相关的文章：",1)):E("",!0),f("ul",w,[f(p,{name:"el-fade-in"},{default:x((()=>[(u(!0),R(L,null,H(A.state.articlesList,(a=>(u(),R("li",{key:a._id,class:"item"},[f("a",{href:A.state.href+a._id,target:"_blank"},[f("img",{class:"wrap-img img-blur-done","data-src":a.img_url,"data-has-lazy-src":"false",src:"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMxaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRFRUU2MkZEM0I1MzExRTlBMzA2QzA5QTEwNzI4MTk4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRFRUU2MkZFM0I1MzExRTlBMzA2QzA5QTEwNzI4MTk4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REVFRTYyRkIzQjUzMTFFOUEzMDZDMDlBMTA3MjgxOTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REVFRTYyRkMzQjUzMTFFOUEzMDZDMDlBMTA3MjgxOTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCADIAPoDAREAAhEBAxEB/8QASwABAQAAAAAAAAAAAAAAAAAAAAgBAQAAAAAAAAAAAAAAAAAAAAAQAQAAAAAAAAAAAAAAAAAAAAARAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AKTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//9k=",alt:"文章封面"},null,8,["data-src"]),f("div",D,[f("h4",G,b(a.title),1),f("p",T,b(a.desc),1),f("div",Y,[f("span",null,"查看 "+b(a.meta.views),1),f("span",null,"评论 "+b(a.meta.comments),1),f("span",null,"赞 "+b(a.meta.likes),1),a.create_time?(u(),R("span",U,b(A.formatTime(a.create_time)),1)):E("",!0)])])],8,["href"])])))),128))])),_:1})]),A.state.isLoading?(u(),R(l,{key:1})):E("",!0),A.state.isLoadEnd?(u(),R(c,{key:2})):E("",!0)])}));k.render=_,k.__scopeId="data-v-9c777b46";export default k;
